{
  "hash": "f214aba1544e32e7c035fdb51128f6f0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"World Happiness Analysis using ggplot2\"\nformat: \n  html:\n    code-fold: true\n    fig-width: 10\n    fig-height: 6\neditor: visual\n---\n\n\n\n\n\n## Introduction\n\nThis document analyzes the World Happiness Report data from 2005 to 2022 using ggplot2 for visualizations. We'll create various plots to illustrate trends and patterns in happiness scores across different countries and years.\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the data\nhappiness_data <- read.csv(\"data/happiness_data.csv\")\n\n# Convert data to long format and clean\nhappiness_long <- happiness_data %>%\n  pivot_longer(cols = -country, names_to = \"year\", values_to = \"happiness_score\") %>%\n  mutate(year = as.numeric(as.character(year))) %>%\n  filter(!is.na(year), !is.na(happiness_score))\n\n# Check for any remaining issues\nif(any(is.na(happiness_long$year))) {\n  warning(\"There are still NA values in the year column. Further investigation may be needed.\")\n}\n\n# Display the first few rows and summary of the cleaned data\nprint(head(happiness_long))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 0 × 3\n# ℹ 3 variables: country <chr>, year <dbl>, happiness_score <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(summary(happiness_long))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   country               year     happiness_score\n Length:0           Min.   : NA   Min.   : NA    \n Class :character   1st Qu.: NA   1st Qu.: NA    \n Mode  :character   Median : NA   Median : NA    \n                    Mean   :NaN   Mean   :NaN    \n                    3rd Qu.: NA   3rd Qu.: NA    \n                    Max.   : NA   Max.   : NA    \n```\n\n\n:::\n:::\n\n\n\n\n\n## 1. Global Happiness Trend\n\nLet's start by looking at the global trend in happiness scores over time.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglobal_trend <- happiness_long %>%\n  group_by(year) %>%\n  summarize(avg_happiness = mean(happiness_score, na.rm = TRUE))\n\nggplot(global_trend, aes(x = year, y = avg_happiness)) +\n  geom_line(color = \"blue\", size = 1) +\n  geom_point(color = \"red\", size = 3) +\n  theme_minimal() +\n  labs(title = \"Global Average Happiness Score (2005-2022)\",\n       x = \"Year\",\n       y = \"Average Happiness Score\") +\n  scale_x_continuous(breaks = seq(2005, 2022, by = 2)) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](DataSkills_files/figure-html/global-trend-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edit the text between the quotes to add your commentary\ncomment1 <- \"Add your commentary about the global happiness trend here.\"\n\n# Display the comment box\ncat('<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">',\n    '<h4>Student Commentary</h4>',\n    '<p>', comment1, '</p>',\n    '</div>', sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">\n<h4>Student Commentary</h4>\n<p>\nAdd your commentary about the global happiness trend here.\n</p>\n</div>\n```\n\n\n:::\n:::\n\n\n\n\n\n## 2. Top 10 Happiest Countries in 2022\n\nNow, let's look at the top 10 happiest countries in the most recent year (2022).\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_2022 <- happiness_long %>%\n  filter(year == 2022) %>%\n  arrange(desc(happiness_score)) %>%\n  head(10)\n\nggplot(top_10_2022, aes(x = reorder(country, happiness_score), y = happiness_score, fill = country)) +\n  geom_col() +\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Top 10 Happiest Countries in 2022\",\n       x = \"Country\",\n       y = \"Happiness Score\") +\n  theme(legend.position = \"none\") +\n  scale_fill_viridis_d()\n```\n\n::: {.cell-output-display}\n![](DataSkills_files/figure-html/top-10-2022-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edit the text between the quotes to add your commentary\ncomment2 <- \"Add your observations about the top 10 happiest countries here.\"\n\n# Display the comment box\ncat('<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">',\n    '<h4>Student Commentary</h4>',\n    '<p>', comment2, '</p>',\n    '</div>', sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">\n<h4>Student Commentary</h4>\n<p>\nAdd your observations about the top 10 happiest countries here.\n</p>\n</div>\n```\n\n\n:::\n:::\n\n\n\n\n\n## 3. Happiness Score Distribution\n\nLet's examine the distribution of happiness scores across all countries and years.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(happiness_long, aes(x = happiness_score)) +\n  geom_histogram(bins = 30, fill = \"skyblue\", color = \"black\") +\n  theme_minimal() +\n  labs(title = \"Distribution of Happiness Scores (2005-2022)\",\n       x = \"Happiness Score\",\n       y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](DataSkills_files/figure-html/happiness-distribution-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edit the text between the quotes to add your commentary\ncomment3 <- \"Describe the distribution of happiness scores you observe in this histogram.\"\n\n# Display the comment box\ncat('<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">',\n    '<h4>Student Commentary</h4>',\n    '<p>', comment3, '</p>',\n    '</div>', sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">\n<h4>Student Commentary</h4>\n<p>\nDescribe the distribution of happiness scores you observe in this histogram.\n</p>\n</div>\n```\n\n\n:::\n:::\n\n\n\n\n\n## 4. Happiness Trends for Selected Countries\n\nLet's compare the happiness trends for a few selected countries.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselected_countries <- c(\"United States\", \"China\", \"India\", \"Nigeria\", \"Brazil\")\n\nselected_data <- happiness_long %>%\n  filter(country %in% selected_countries)\n\nggplot(selected_data, aes(x = year, y = happiness_score, color = country)) +\n  geom_line() +\n  geom_point() +\n  theme_minimal() +\n  labs(title = \"Happiness Score Trends for Selected Countries\",\n       x = \"Year\",\n       y = \"Happiness Score\") +\n  scale_x_continuous(breaks = seq(2005, 2022, by = 2)) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_color_viridis_d()\n```\n\n::: {.cell-output-display}\n![](DataSkills_files/figure-html/country-comparison-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edit the text between the quotes to add your commentary\ncomment4 <- \"Compare and contrast the happiness trends for the selected countries.\"\n\n# Display the comment box\ncat('<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">',\n    '<h4>Student Commentary</h4>',\n    '<p>', comment4, '</p>',\n    '</div>', sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">\n<h4>Student Commentary</h4>\n<p>\nCompare and contrast the happiness trends for the selected countries.\n</p>\n</div>\n```\n\n\n:::\n:::\n\n\n\n\n\n## 5. Happiness Score Heatmap\n\nLet's create a heatmap to visualize happiness scores across countries and years.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select top 20 countries by average happiness score\ntop_20_countries <- happiness_long %>%\n  group_by(country) %>%\n  summarize(avg_score = mean(happiness_score, na.rm = TRUE)) %>%\n  top_n(20, avg_score) %>%\n  pull(country)\n\n# Filter data for top 20 countries\nheatmap_data <- happiness_long %>%\n  filter(country %in% top_20_countries)\n\nggplot(heatmap_data, aes(x = year, y = country, fill = happiness_score)) +\n  geom_tile() +\n  scale_fill_viridis_c(option = \"D\") +\n  theme_minimal() +\n  labs(title = \"Happiness Score Heatmap (Top 20 Countries)\",\n       x = \"Year\",\n       y = \"Country\",\n       fill = \"Happiness Score\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        axis.text.y = element_text(size = 8))\n```\n\n::: {.cell-output-display}\n![](DataSkills_files/figure-html/happiness-heatmap-1.png){width=1152}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edit the text between the quotes to add your commentary\ncomment5 <- \"Describe the patterns you observe in the happiness score heatmap.\"\n\n# Display the comment box\ncat('<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">',\n    '<h4>Student Commentary</h4>',\n    '<p>', comment5, '</p>',\n    '</div>', sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<div style=\"background-color: #f0f0f0; padding: 10px; margin-top: 10px;\">\n<h4>Student Commentary</h4>\n<p>\nDescribe the patterns you observe in the happiness score heatmap.\n</p>\n</div>\n```\n\n\n:::\n:::\n\n\n\n\n\n## Conclusion\n\nIn this analysis, we've explored various aspects of the World Happiness Report data from 2005 to 2022 using ggplot2 visualizations. We've looked at global trends, top-ranking countries, the distribution of happiness scores, compared trends across selected countries, and visualized the data using a heatmap.\n\nAs you work through this document, be sure to add your own observations and insights in the comment boxes provided. This will help you develop a deeper understanding of the data and practice your data interpretation skills.\n\nSome questions to consider:\n1. How has global happiness changed over time?\n2. Which countries consistently rank high in happiness scores?\n3. Are there any noticeable patterns or clusters in the happiness score distribution?\n4. How do happiness trends differ among the selected countries?\n5. What insights can you gather from the happiness score heatmap?\n\nRemember, data visualization is a powerful tool for understanding complex datasets. By exploring different types of plots and analyzing the patterns they reveal, you can gain valuable insights into global happiness trends and factors that might influence them.",
    "supporting": [
      "DataSkills_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}